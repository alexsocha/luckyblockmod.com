{{> header }}

<script src="./utils.ts"></script>
<script>
    validateDownload();
</script>

<body class="luckyblock page download-page">
    {{> navbar download=true }}

    <div class="content-spacing">
        <div class="title-section">
            <h1 class="title">Download</h1>
        </div>

        <div class="ad-box">
            {{> ad-banner ad-slot=4575070891 format='horizontal' }}
        </div>

        <div id="platform-tabs">
            <div class="tab-bar">
                <button
                    id="forge-tab-header"
                    class="tab-header"
                    onclick="openTab('platform-tabs', 'forge-tab')"
                >
                    Forge
                </button>
                <button
                    id="fabric-tab-header"
                    class="tab-header"
                    onclick="openTab('platform-tabs', 'fabric-tab')"
                >
                    Fabric
                </button>
            </div>
            <div class="tab-list" id="tab-list">
                <div id="forge-tab" class="tab">
                    <table class="version-table" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Version</th>
                                <th>Minecraft</th>
                                <th>Forge</th>
                                <th>Date</th>
                                <th>Link</th>
                            </tr>
                        </thead>
                        {{!-- server-side rendering --}} \{{#each projects.lucky-block-forge}}
                        <tr>
                            <td>\{{this.version}}</td>
                            <td>\{{this.dependencies.minecraft.formattedVersionRange}}</td>
                            <td>\{{this.dependencies.forge.formattedVersionRange}}</td>
                            <td>\{{this.formattedDatetime}}</td>
                            <td>
                                <a href="/download/lucky-block-forge/\{{this.version}}/"
                                    >Download</a
                                >
                            </td>
                        </tr>
                        \{{/each}}
                    </table>
                </div>
                <div id="fabric-tab" class="tab">
                    <table class="version-table" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Version</th>
                                <th>Minecraft</th>
                                <th>Fabric Loader</th>
                                <th>Date</th>
                                <th>Link</th>
                            </tr>
                        </thead>
                        {{!-- server-side rendering --}} \{{#each projects.lucky-block-fabric}}
                        <tr>
                            <td>\{{this.version}}</td>
                            <td>\{{this.dependencies.minecraft.formattedVersionRange}}</td>
                            <td>\{{this.dependencies.fabric-loader.formattedVersionRange}}</td>
                            <td>\{{this.formattedDatetime}}</td>
                            <td>
                                <a href="/download/lucky-block-fabric/\{{this.version}}/"
                                    >Download</a
                                >
                            </td>
                        </tr>
                        \{{/each}}
                    </table>
                </div>
            </div>
        </div>
    </div>
    {{> footer }}

    <script>
        openTab('platform-tabs', getQueryParam(window.location, 'platform', 'forge') + '-tab');
    </script>
</body>
